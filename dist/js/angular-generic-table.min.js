angular.module("angular.generic.table",["ngAnimate","angular.filter","angular.bind.notifier","ngCsv"]),!function(e){try{e=angular.module("angular.generic.table")}catch(t){e=angular.module("angular.generic.table",[])}e.run(["$templateCache",function(e){e.put("generic-table/directive/generic-table/generic-table.html",'<div class="generic-table"><div class="gt-wrapper"><table class="table table-sortable" ng-if="gtHasData" ng-class=":gtRefresh:gtClasses"><thead><tr ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><th ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="[field.classNames, (field.objectKey | camelToDash) + \'-column\', \'sort-\'+(gtSettings | getProperty:field.objectKey:\'sort\')]" ng-click=":gtRefresh:(gtSettings | getProperty:field.objectKey:\'sort\') === \'enable\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'asc\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'desc\' ? sort($event,field.objectKey):\'\'" ng-bind="::field.name"></th></tr><tr ng-if="::gtTotals" ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><td ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" class="total-column" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']" field-settings="::field" gt-render="" active-bindings="::bindings" row-data="::gtTotals" gt-compile="::field.compile"></td></tr></thead><tbody><tr gt-row="" ng-repeat="(rowIndex, row) in :gtRefresh:gtDisplayData | limitTo: displayRows" gt-event="" ng-class=":gtRefresh:[gtRowTransition ? \'fade-in animate\':\'\',row.isOpen ? \'row-open\':\'\', $index % 2 == 0 ? \'row-odd\':\'row-even\', gtRowInfo[$index] ? \'true-class\':\'false-class\']"><td ng-repeat="(fieldIndex, field) in :gtRefresh:gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']"><span class="gt-row-label" ng-if="::(gtFields | getProperty:field.objectKey:\'stackedHeading\')" ng-bind="::(gtFields | getProperty:field.objectKey:\'stackedHeading\')=== true ? (gtFields | getProperty:field.objectKey:\'name\'):(gtFields | getProperty:field.objectKey:\'stackedHeading\')"></span><span class="gt-row-content" ng-class="::field.click ? \'gt-click-enabled\':\'\'" field-settings="::field" gt-render="" active-bindings="::bindings" row-data="::row" gt-compile="::field.compile" ng-click=":gtRefresh:!field.click || field.click(row);!field.expand || toggleRow(field.expand,(gtSettings | filter:{\'visible\':true}:true).length,row,field.objectKey);"></span></td></tr></tbody><tr ng-if=":gtRefresh:pagination === false"><td class="gt-no-data" colspan="{{:gtRefresh:(gtSettings | filter:{\'visible\':true}:true).length}}" ng-bind="::gtTranslations.noData"></td></tr></table></div><div class="gt-pagination text-center" ng-if=":gtRefresh:gtPagination === true && pagination !== false"><ul class="pagination"><li ng-class=":gtRefresh:{disabled: currentPage === 0}" ng-show="currentPage !== 0"><button class="btn-link link" ng-click="previousPage()" ng-disabled=":gtRefresh:currentPage === 0" ng-bind-html="::gtTranslations.previous"></button></li><li ng-show=":gtRefresh:currentPage > 3"><button class="btn-link link" ng-click="setPage(0)">1</button><small>&hellip;</small></li><li style="display: inline;padding: 0 5px;" ng-repeat="page in :gtRefresh:pagination" ng-class=":gtRefresh:page === currentPage ? \'active\':\'\'"><button class="btn-link link" ng-click="setPage(page)" ng-bind="page+1"></button></li><li ng-show=":gtRefresh:currentPage +1 < pages.length-1 && pages.length > 4"><small ng-show=":gtRefresh:currentPage + 3 < pages.length">&hellip;</small><button class="btn-link link" ng-click="setPage(pages.length-1)" ng-bind="pages.length"></button></li><li ng-class=":gtRefresh:{disabled: currentPage == pages.length}" ng-show=":gtRefresh:currentPage+1 !== pages.length"><button class="btn-link link" ng-click="nextPage()" ng-disabled=":gtRefresh:currentPage+1 === pages.length" ng-bind-html="::gtTranslations.next"></button></li></ul></div></div>')}])}(),angular.module("angular.generic.table").directive("genericTable",function(){return{restrict:"E",replace:!0,scope:{gtId:"=?gtId",gtClasses:"@gtClasses",gtSettings:"=gtSettings",gtFields:"=gtFields",gtTotals:"=?gtTotals",gtData:"=?gtData",gtRows:"@gtRows",gtRowTransition:"@gtRowTransition",gtPagination:"@gtPagination",gtExpand:"=?",gtTranslations:"=?"},templateUrl:"generic-table/directive/generic-table/generic-table.html",link:function(e,t,n,r){},controller:"genericTableController"}}).controller("genericTableController",["$scope","$filter","$timeout","CSV","$document",function(e,t,n,r,i){var a,o,s,g,l,c,d,f="undefined"==typeof e.gtSettings?!1:t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey});e.gtPagination="undefined"==typeof e.gtPagination?!0:"false"!==e.gtPagination,e.gtRows="undefined"==typeof e.gtRows?20:e.gtRows,e.gtTranslations="undefined"==typeof e.gtTranslations?{}:e.gtTranslations,e.gtTranslations.noData="undefined"==typeof e.gtTranslations.noData?"No table data to display":e.gtTranslations.noData,e.gtTranslations.previous="undefined"==typeof e.gtTranslations.previous?"&laquo; Prev":e.gtTranslations.previous,e.gtTranslations.next="undefined"==typeof e.gtTranslations.next?"Next &raquo;":e.gtTranslations.next,e.gtId="undefined"==typeof e.gtId?e.$id:e.gtId,e.gtExpand="undefined"==typeof e.gtExpand?{}:e.gtExpand,e.gtExpand.directive="undefined"==typeof e.gtExpand.directive?"":e.gtExpand.directive,e.gtExpand.multiple="undefined"==typeof e.gtExpand.multiple?!1:e.gtExpand.multiple,e.gtExpand.rows="undefined"==typeof e.gtExpand.rows?[]:e.gtExpand.rows,e.bindings=[],console.log(e.gtExpand),e.syncRows=function(t,n){if(t&&e.gtDisplayData){for(var r=0;r<e.gtDisplayData.length;r++)-1===e.gtExpand.rows.indexOf(r)&&e.$broadcast("$gt-open-row:"+r,n);e.$broadcast("$$rebind::gtRefresh")}else if(e.gtDisplayData){for(var r=0;r<e.gtRows;r++)-1!==e.gtExpand.rows.indexOf(r)&&e.$broadcast("$gt-close-row:"+r);e.$broadcast("$$rebind::gtRefresh")}if(e.bindings.length>0)for(var r=0;r<e.bindings.length;r++)e.bindings[r].$destroy()};var u=function(){t("map")(e.gtSettings,function(n){try{var r=t("filter")(e.gtFields,{objectKey:n.objectKey},!0)[0];r.columnOrder=n.columnOrder,n["export"]===!1&&(r.exportField=!1)}catch(i){console.log('field definition object for property: "'+n.objectKey+'" not found.',i)}})};u();var p=function(t){e.gtHasData=!1,a=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),y(t)},b=function(t){e.gtHasData=!1,a=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),y(t)},y=function(n){l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey");var r=t("map")(t("filter")(e.gtSettings,{enabled:!0},!0),"objectKey");o=t("map")(n,function(n){var i={};return t("map")(r,function(r){if("undefined"!=typeof n[r])i[r]=n[r];else{var a=t("map")(t("filter")(e.gtFields,{objectKey:r},!0),"value")[0];a&&angular.isFunction(a)?i[r]=a(n):console.log('property: "'+r+'" does not exists in data object and no value function was declared')}}),i}),h(o)},h=function(n,r){var i=t("filter")(n.slice(0),c,function(e,t){return t.indexOf(e)>-1},!0).slice(0);s=t("searchRow")(i,l,r,e.gtFields),m()},m=function(){g=f!==!1?t("gtSort")(s,f,e.gtFields):s,v()},v=function(){e.pages=t("chunkBy")(g,parseInt(e.gtRows)),e.currentPage=0,e.loading=!0,e.$emit("gt-started-rendering"),e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),n(function(){e.$emit("gt-finished-data-processing",e.gtId),e.gtHasData=!0},200),e.$broadcast("$$rebind::gtRefresh")};e.$on("gt-update-table:"+e.gtId,function(e,t){b(t)}),e.$on("gt-search-table:"+e.gtId,function(e,t){d=t,h(o.slice(0),t)}),e.$on("gt-filter-table:"+e.gtId,function(e,t){c=t,h(o.slice(0),d)}),e.$on("gt-open-all-rows:"+e.gtId,function(t,n){e.syncRows(!0,!0)}),e.$on("gt-close-all-rows:"+e.gtId,function(t,n){e.syncRows(!1)}),e.$on("gt-update-structure:"+e.gtId,function(n,r){e.gtFields=r.fields,e.gtSettings=r.settings,u(),l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey"),f===!1||r.forceSorting===!0?f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}):(t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){e.sort="enable"}),t("map")(f,function(n){var r=-1===n.indexOf("-")?"asc":"desc";n=n.replace("-",""),t("filter")(e.gtSettings,{objectKey:n},!0)[0].sort=r}))}),e.$on("gt-paginate-table:"+e.gtId,function(t,n){e.gtRows=parseInt(n),v()}),e.$on("gt-export-csv:"+e.gtId,function(e,t){x(t)});var w=function(t,n){return e.syncRows(!1),e.pagination=[],0===t?(e.pagination=!1,void e.$emit("gt-table-filtered",{total:o.length,filtered:0,showingFrom:0,showingTo:0,pageLength:e.gtRows,currentPage:0,numberOfPages:0})):(2>t?e.pagination=[0]:3>t?e.pagination=[0,1]:4>t?e.pagination=[0,1,2]:5>t?e.pagination=[0,1,2,3]:4>n?e.pagination=[0,1,2,3,4]:t>n+1?e.pagination=[n-1,n,n+1]:t===n+1?e.pagination=[n-2,n-1,n]:t-4>n&&(e.pagination=[n-1,n,n+1,n+2]),void e.$emit("gt-table-filtered",{total:o.length,filtered:s.length,showingFrom:e.currentPage*e.gtRows+(e.currentPage>1?0:1),showingTo:e.currentPage*e.gtRows+e.gtDisplayData.length,pageLength:e.gtRows,currentPage:e.currentPage,numberOfPages:e.pages.length}))};e.nextPage=function(){try{e.currentPage++,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.previousPage=function(){try{e.currentPage--,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.setPage=function(t){try{e.currentPage=t,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(n){console.log(n)}},e.sort=function(n,r){var i=n.ctrlKey||n.metaKey;if(!i&&r)for(var a=0;e.gtSettings.length>a;a++){var o=e.gtSettings[a];(o.objectKey!==r&&"asc"===o.sort||o.objectKey!==r&&"desc"===o.sort)&&(e.gtSettings[a].sort="enable")}if(r)for(var a=0;e.gtSettings.length>a;a++){var o=e.gtSettings[a];if(o.objectKey===r){var s=o.sort;switch(s){case"disable":break;case"enable":e.gtSettings[a].sort="asc";break;case"asc":e.gtSettings[a].sort="desc";break;case"desc":e.gtSettings[a].sort="enable"}}}f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}),m()},e.gtData&&p(e.gtData);var x=function(a){a="undefined"==typeof a?{}:a;for(var o="undefined"==typeof a.fileName?"export":a.fileName,s=JSON.parse(angular.toJson(g.slice(0))),l=0;l<s.length;l++){var c=s[l];for(var d in c)if(c.hasOwnProperty(d)){var f=t("filter")(e.gtFields,{objectKey:d},!0)[0],u=t("filter")(e.gtSettings,{objectKey:d},!0)[0],p=f["export"];if(p&&angular.isFunction(p)){var b=p(c,d);c[d]=f.exportEscapeString===!1?b:t("escapeCsvString")(b)}else c[d]=f.exportEscapeString===!1?c[d]:t("escapeCsvString")(c[d]);"undefined"!=typeof a.exportColumns?-1===a.exportColumns.indexOf(u.objectKey)&&(c[d]=null):"undefined"!=typeof u["export"]&&u["export"]===!1&&(c[d]=null)}}var y=s;if("undefined"!=typeof a.exportColumns)var h=t("map")(a.exportColumns,function(n){return t("filter")(e.gtFields.slice(0),{objectKey:n},!0)[0]});else var h=t("orderBy")(t("removeWith")(e.gtFields,{exportField:!1}),"columnOrder");var m={fieldSep:"undefined"==typeof a.fieldSep?";":a.fieldSep,header:t("map")(h,"name"),txtDelim:"undefined"==typeof a.txtDelim?'"':a.txtDelim,columnOrder:t("map")(h,"objectKey"),decimalSep:"undefined"==typeof a.decimalSep?",":a.decimalSep,addByteOrderMarker:"undefined"==typeof a.addBom,charset:"undefined"==typeof a.charset?"utf-8":a.charset,quoteStrings:"undefined"==typeof a.quoteStrings?!1:a.quoteStrings};r.stringify(y,m).then(function(e){var t;if(window.navigator.msSaveOrOpenBlob)t=new Blob([e],{type:"text/csv;charset=utf-8;"}),navigator.msSaveBlob(t,"export.csv");else if("Microsoft Internet Explorer"===window.navigator.appName){window.alert("You're using an old version of Internet Explorer and the export might therefore have the wrong format, please update your browser.");var r=angular.element("<iframe></iframe>");r[0].style.display="none";var a=angular.element("body");a.append(r);var s=null;r[0].contentDocument?s=r[0].contentDocument:r[0].contentWindow&&(s=r[0].contentWindow.document),s.open("text/plain","replace"),s.write([e]),s.close(),s.execCommand("SaveAs",!0,o+".csv")}else{t=new Blob([e],{type:"text/csv;charset=utf-8;"});var g=angular.element("<a></a>");g.attr("href",window.URL.createObjectURL(t)),g.attr("download",o+".csv"),i.find("body").append(g),n(function(){g[0].click(),g.remove()},null)}})}}]).directive("gtRow",["$compile","$filter",function(e,t){return{restrict:"A",scope:!1,link:function(n,r,i,a){var o=t("filter")(n.gtSettings,{visible:!0},!0).length,s=function(t){n.gtExpand.multiple||t?"":n.syncRows(!1);var i=n.$new(),a=e('<tr class="expanded-row"><td colspan="'+o+'">'+n.gtExpand.directive+"</td></tr>")(i);r.after(a),n.row.isOpen=!0,n.gtExpand.rows.push(l)},g=function(){r.next().scope().$destroy(),r.next().remove(),n.row.isOpen=!1,n.gtExpand.rows.splice(n.gtExpand.rows.indexOf(l),1)},l=n.$index;n.toggleRow=function(){var e=-1!==n.gtExpand.rows.indexOf(l);e?g():s(),n.$broadcast("$$rebind::gtRefresh")},n.$on("$gt-open-row:"+l,function(e,t){var r=-1!==n.gtExpand.rows.indexOf(l);r||s(t)}),n.$on("$gt-close-row:"+l,function(){var e=-1!==n.gtExpand.rows.indexOf(l);e&&g()})}}}]).directive("gtEvent",function(){return{restrict:"A",link:function(e,t,n,r){e.$last&&e.$emit("gt-finished-rendering",e.gtId)}}}).directive("gtRender",["$compile",function(e){return{restrict:"A",scope:{row:"=rowData",settings:"=fieldSettings",compile:"=gtCompile",activeBindings:"=activeBindings"},link:function(t,n,r,i){var a,o=t.row,s=t.settings.objectKey,g=t.settings.render;if(a=g&&angular.isFunction(g)?g(o,s):o[s],t.compile&&t.compile!==!1){var l;t.compile!==!0&&t.compile.$watch?(l=t.compile.$new(),t.activeBindings.push(l)):l=t.$parent.$new(),a=e(a)(l),n.append(a)}else n[0].innerHTML=a}}}]).filter("getProperty",["$filter",function(e){return function(t,n,r){try{var i=e("filter")(t,{objectKey:n},!0)[0][r]}catch(a){console.log('cannot read property: "'+r+'" on missing key: "'+n+'" in settings.',a)}return i}}]).filter("searchRow",["$filter","$interpolate",function(e,t){return function(t,n,r,i){for(var a={},o=0;o<i.length;o++){var s=i[o];if(s.search&&angular.isFunction(s.search)){var g=s.objectKey;a[g]=s.search}}if(!r||0===r.replace(/"/g,"").length)return t;var l=[];r="undefined"==typeof r?"":r;for(var c=r.toLowerCase().match(/"[^"]+"|[\w]+/g),d=0;d<t.length;d++){var f=t[d],u="",p=0;e("map")(n,function(e){var t=0===p?"":" & ";u+=a[e]?t+a[e](f,e):t+f[e],p++}),u=u.toLowerCase();for(var b=!0,o=0;o<c.length;o++){var y=c[o].replace(/"/g,"");if(b=-1!==u.indexOf(y),!b)break}b&&l.push(f)}return l}}]).filter("camelToDash",function(){return function(e){try{return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}catch(t){console.log("nothing to replace:",t)}}}).filter("gtSort",function(){return function(e,t,n){function r(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){var i=null===n[e]?"":a[e]?a[e](n,e):n[e],o=null===r[e]?"":a[e]?a[e](r,e):r[e],s=o>i?-1:i>o?1:0;return s*t}}function i(e){var t=e;return function(e,n){for(var i=0,a=0,o=t.length;0===a&&o>i;)a=r(t[i])(e,n),i++;return a}}for(var a={},o=0;o<n.length;o++){var s=n[o];s.sort&&angular.isFunction(s.sort)&&(a[s.objectKey]=s.sort)}return e.sort(i(t))}}).filter("escapeCsvString",function(){return function(e){return/^(\=|\@|\+,\-).*/g.test(e)?"'"+e:e}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyaWMtdGFibGUuanMiLCJhbmd1bGFyLmdlbmVyaWMudGFibGUudHBsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJlIiwidCIsInJ1biIsInB1dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZ3RJZCIsImd0Q2xhc3NlcyIsImd0U2V0dGluZ3MiLCJndEZpZWxkcyIsImd0VG90YWxzIiwiZ3REYXRhIiwiZ3RSb3dzIiwiZ3RSb3dUcmFuc2l0aW9uIiwiZ3RQYWdpbmF0aW9uIiwiZ3RFeHBhbmQiLCJndFRyYW5zbGF0aW9ucyIsInRlbXBsYXRlVXJsIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImZuIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRmaWx0ZXIiLCIkdGltZW91dCIsIkNTViIsIiRkb2N1bWVudCIsIm9yaWdpbmFsRGF0YSIsIm1hcHBlZERhdGEiLCJmaWx0ZXJlZERhdGEiLCJzb3J0ZWREYXRhIiwic2VhcmNoQ29sdW1ucyIsInRhYmxlRmlsdGVycyIsInNlYXJjaFRlcm1zIiwic29ydGluZyIsInNvcnQiLCJleHBlY3RlZCIsImFjdHVhbCIsImluZGV4T2YiLCJvYmplY3RLZXkiLCJub0RhdGEiLCJwcmV2aW91cyIsIm5leHQiLCIkaWQiLCJtdWx0aXBsZSIsInJvd3MiLCJiaW5kaW5ncyIsImNvbnNvbGUiLCJsb2ciLCJzeW5jUm93cyIsIm9wZW4iLCJmb3JjZSIsImd0RGlzcGxheURhdGEiLCJpIiwibGVuZ3RoIiwiJGJyb2FkY2FzdCIsIiRkZXN0cm95IiwiZXh0ZW5kRmllbGREZWZpbml0aW9ucyIsInNldHRpbmciLCJmaWVsZCIsImNvbHVtbk9yZGVyIiwiZXhwb3J0RmllbGQiLCJlcnJvciIsImluaXRUYWJsZSIsImluaXREYXRhIiwiZ3RIYXNEYXRhIiwic2xpY2UiLCIkZW1pdCIsIm1hcEtleXMiLCJjaGFuZ2VEYXRhIiwibmV3RGF0YSIsImRhdGEiLCJzZWFyY2giLCJwcm9wZXJ0aWVzIiwiZW5hYmxlZCIsInJvdyIsIm9iaiIsInByb3BlcnR5IiwidmFsdWVGdW5jdGlvbiIsImlzRnVuY3Rpb24iLCJhcHBseUZpbHRlciIsImZpbHRlcmVkIiwiYXBwbHlTb3J0IiwiYXBwbHlQYWdpbmF0aW9uIiwicGFnZXMiLCJwYXJzZUludCIsImN1cnJlbnRQYWdlIiwibG9hZGluZyIsInBhZ2luYXRpb24iLCIkb24iLCJldmVudCIsImFyZyIsImZpZWxkcyIsInNldHRpbmdzIiwiZm9yY2VTb3J0aW5nIiwic29ydFByb3BlcnR5IiwiZ3RFeHBvcnQiLCJ0b3RhbFBhZ2VzIiwidG90YWwiLCJzaG93aW5nRnJvbSIsInNob3dpbmdUbyIsInBhZ2VMZW5ndGgiLCJudW1iZXJPZlBhZ2VzIiwibmV4dFBhZ2UiLCJwcmV2aW91c1BhZ2UiLCJzZXRQYWdlIiwicGFnZSIsIiRldmVudCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwib3B0aW9ucyIsImZpbGVOYW1lIiwiZXhwb3J0RGF0YSIsIkpTT04iLCJwYXJzZSIsInRvSnNvbiIsImtleSIsImhhc093blByb3BlcnR5IiwiZmllbGRTZXR0aW5nIiwidGFibGVTZXR0aW5nIiwiZXhwb3J0TWV0aG9kIiwiZXhwb3J0VmFsdWUiLCJleHBvcnRFc2NhcGVTdHJpbmciLCJleHBvcnRDb2x1bW5zIiwiZXhwb3J0RmllbGRzIiwiaGVhZGVycyIsImZpZWxkU2VwIiwiaGVhZGVyIiwidHh0RGVsaW0iLCJkZWNpbWFsU2VwIiwiYWRkQnl0ZU9yZGVyTWFya2VyIiwiYWRkQm9tIiwiY2hhcnNldCIsInF1b3RlU3RyaW5ncyIsInN0cmluZ2lmeSIsInRoZW4iLCJyZXN1bHQiLCJibG9iIiwid2luZG93IiwibmF2aWdhdG9yIiwibXNTYXZlT3JPcGVuQmxvYiIsIkJsb2IiLCJ0eXBlIiwibXNTYXZlQmxvYiIsImFwcE5hbWUiLCJhbGVydCIsImlmcmFtZSIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZCIsImRvYyIsImNvbnRlbnREb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJkb2N1bWVudCIsIndyaXRlIiwiY2xvc2UiLCJleGVjQ29tbWFuZCIsImRvd25sb2FkTGluayIsImF0dHIiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJmaW5kIiwiY2xpY2siLCJyZW1vdmUiLCIkY29tcGlsZSIsImNvbHVtbnMiLCJ2aXNpYmxlIiwiYWRkUm93Iiwib3BlbkFsbCIsIm5ld1Njb3BlIiwiJG5ldyIsImFmdGVyIiwiaXNPcGVuIiwicHVzaCIsImluZGV4IiwicmVtb3ZlUm93Iiwic3BsaWNlIiwiJGluZGV4IiwidG9nZ2xlUm93IiwiZXhwYW5kZWQiLCIkbGFzdCIsImNvbXBpbGUiLCJhY3RpdmVCaW5kaW5ncyIsIm91dHB1dCIsInJlbmRlck1ldGhvZCIsInJlbmRlciIsImVsZW1lbnRTY29wZSIsIiR3YXRjaCIsIiRwYXJlbnQiLCJpbm5lckhUTUwiLCJmaWx0ZXIiLCIkaW50ZXJwb2xhdGUiLCJhcnJheSIsImZpZWxkc1NldHRpbmdzIiwiayIsImZpbHRlcmVkQXJyYXkiLCJzZWFyY2hUZXJtc0FycmF5IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInN0cmluZyIsImoiLCJzZXBhcmF0b3IiLCJ0ZXJtIiwicHJvcGVydHlBcnJheSIsImR5bmFtaWNTb3J0Iiwic29ydE9yZGVyIiwic3Vic3RyIiwiYSIsImIiLCJ2YWx1ZTEiLCJjdXN0b21Tb3J0IiwidmFsdWUyIiwiZHluYW1pY1NvcnRNdWx0aXBsZSIsInByb3BzIiwib2JqMSIsIm9iajIiLCJudW1iZXJPZlByb3BlcnRpZXMiLCJpbnB1dCIsInRlc3QiXSwibWFwcGluZ3MiOiJBQU9BQSxRQUFBQyxPQUFBLHlCQUFBLFlBQUEsaUJBQUEsd0JBQUEsV0NQQSxTQUFBQyxHQUFBLElBQUFBLEVBQUFGLFFBQUFDLE9BQUEseUJBQUEsTUFBQUUsR0FBQUQsRUFBQUYsUUFBQUMsT0FBQSw0QkFBQUMsRUFBQUUsS0FBQSxpQkFBQSxTQUFBRixHQUFBQSxFQUFBRyxJQUFBLDJEQUFBLHlqSURrQkFMLFFBQUFDLE9BQUEs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QUEyRSxFQUFBRixFQUFBLEdBQUFBLEVBQUFFLEVBQUEsRUFBQSxDQUNBLE9BQUEzRSxHQUFBcUUsR0FHQSxRQUFBTyxHQUFBVCxHQU1BLEdBQUFVLEdBQUFWLENBQ0EsT0FBQSxVQUFBVyxFQUFBQyxHQUtBLElBSkEsR0FBQWxLLEdBQUEsRUFBQW1GLEVBQUEsRUFBQWdGLEVBQUFILEVBQUEvSixPQUlBLElBQUFrRixHQUFBZ0YsRUFBQW5LLEdBQ0FtRixFQUFBb0UsRUFBQVMsRUFBQWhLLElBQUFpSyxFQUFBQyxHQUNBbEssR0FFQSxPQUFBbUYsSUF4Q0EsSUFBQSxHQUhBMEUsTUFHQTdKLEVBQUEsRUFBQUEsRUFBQXVDLEVBQUF0QyxPQUFBRCxJQUFBLENBQ0EsR0FBQU0sR0FBQWlDLEVBQUF2QyxFQUdBTSxHQUFBeEIsTUFBQXhDLFFBQUFvRixXQUFBcEIsRUFBQXhCLFFBR0ErSyxFQUFBdkosRUFBQXBCLFdBQUFvQixFQUFBeEIsTUFvQ0EsTUFBQTZKLEdBQUE3SixLQUFBaUwsRUFBQVQsT0FFQWIsT0FBQSxrQkFBQSxXQUNBLE1BQUEsVUFBQTJCLEdBQ0EsTUFBQSxvQkFBQUMsS0FBQUQsR0FBQSxJQUFBQSxFQUFBQSIsImZpbGUiOiJhbmd1bGFyLWdlbmVyaWMtdGFibGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgYW5ndWxhci5nZW5lcmljLnRhYmxlLmRpcmVjdGl2ZTpnZW5lcmljVGFibGVcclxuICogQHJlcXVpcmVzIC8vICdwcm92aWRlIGFueSBkZXBlbmRlbmNpZXMgZXguICRzY29wZSwgeW91IGNhbiBoYXZlIG11bHRpcGxlIEByZXF1aXJlcyBsaW5lcydcclxuICpcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERlc2NyaXB0aW9uIG9mIGdlbmVyaWNUYWJsZSBkaXJlY3RpdmUsIGxvcmVtIGlwc3VtIGRvbGFyIHNpdCBhbWV0XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gZGF0YS1hdHRyaWJ1dGUgLy8gJ2F0dHJpYnV0ZXMgdXNlZCBieSBkaXJlY3RpdmUsIHlvdSBjYW4gaGF2ZSBtdWx0aXBsZSBAcGFyYW0gbGluZXMnXHJcbiAqXHJcbiAqICBAZXhhbXBsZSA8cHJlPlxyXG4gKlxyXG4gKiA8Z2VuZXJpYy10YWJsZSBkYXRhLWF0dHJpYnV0ZT1cIm15LXZhbHVlXCI+PC9nZW5lcmljLXRhYmxlPlxyXG4gKlxyXG4gKiA8L3ByZT5cclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLmdlbmVyaWMudGFibGUnKS5kaXJlY3RpdmUoJ2dlbmVyaWNUYWJsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgZ3RJZDonPT9ndElkJyxcclxuICAgICAgICAgICAgZ3RDbGFzc2VzOidAZ3RDbGFzc2VzJyxcclxuICAgICAgICAgICAgZ3RTZXR0aW5nczonPWd0U2V0dGluZ3MnLFxyXG4gICAgICAgICAgICBndEZpZWxkczonPWd0RmllbGRzJyxcclxuICAgICAgICAgICAgZ3RUb3RhbHM6Jz0/Z3RUb3RhbHMnLFxyXG4gICAgICAgICAgICAvL2d0SW5kZXg6Jz1ndEluZGV4JyxcclxuICAgICAgICAgICAgZ3REYXRhOic9P2d0RGF0YScsXHJcbiAgICAgICAgICAgIGd0Um93czonQGd0Um93cycsXHJcbiAgICAgICAgICAgIGd0Um93VHJhbnNpdGlvbjonQGd0Um93VHJhbnNpdGlvbicsXHJcbiAgICAgICAgICAgIGd0UGFnaW5hdGlvbjonQGd0UGFnaW5hdGlvbicsXHJcbiAgICAgICAgICAgIC8vZ3ROb0RhdGFUeHQ6J0AnLFxyXG4gICAgICAgICAgICBndEV4cGFuZDonPT8nLFxyXG4gICAgICAgICAgICBndFRyYW5zbGF0aW9uczonPT8nXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2dlbmVyaWMtdGFibGUvZGlyZWN0aXZlL2dlbmVyaWMtdGFibGUvZ2VuZXJpYy10YWJsZS5odG1sJyxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGZuKSB7XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjpcImdlbmVyaWNUYWJsZUNvbnRyb2xsZXJcIlxyXG4gICAgfTtcclxufSkuY29udHJvbGxlcignZ2VuZXJpY1RhYmxlQ29udHJvbGxlcicsZnVuY3Rpb24oJHNjb3BlLCRmaWx0ZXIsJHRpbWVvdXQsIENTViwkZG9jdW1lbnQpe1xyXG4gICAgdmFyIG9yaWdpbmFsRGF0YTsgLy8gb3JpZ2luYWwgdW50b3VjaGVkIGRhdGFcclxuICAgIHZhciBtYXBwZWREYXRhOyAvLyBtYXBwZWQgZGF0YSwgYXJyYXkgY29udGFpbmluZyBtYXBwZWQga2V5cyB1c2VkIGJ5IHRhYmxlXHJcbiAgICB2YXIgZmlsdGVyZWREYXRhOyAvLyBmaWx0ZXJlZCBtYXBwZWQgZGF0YVxyXG4gICAgdmFyIHNvcnRlZERhdGE7IC8vIHNvcnRlZCBtYXBwZWQgZGF0YVxyXG4gICAgdmFyIHNlYXJjaENvbHVtbnM7IC8vIGNvbHVtbnMgdG8gc2VhcmNoXHJcbiAgICB2YXIgdGFibGVGaWx0ZXJzOyAvLyBmaWx0ZXJzIGFwcGxpZWQgdG8gdGhlIHRhYmxlIGludGVybmFsbHlcclxuICAgIHZhciBzZWFyY2hUZXJtczsgLy8gc2VhcmNoIHRlcm1zIHVzZWQgZm9yIHNlYXJjaGluZyB0YWJsZVxyXG5cclxuICAgIHZhciBzb3J0aW5nID0gdHlwZW9mICRzY29wZS5ndFNldHRpbmdzID09PSAndW5kZWZpbmVkJyA/IGZhbHNlOiRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLHtzb3J0OlwiYXNjIGRlc2NcIn0sZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgfSksZnVuY3Rpb24oc29ydCl7XHJcbiAgICAgICAgcmV0dXJuIChzb3J0LnNvcnQgPT09ICdkZXNjJyA/ICctJzonJykgKyBzb3J0Lm9iamVjdEtleVxyXG4gICAgfSk7IC8vIHJldHVybnMgYXJyYXkgY29udGFpbmluZyBzb3J0aW5nIGNyaXRlcmlhXHJcbiAgICAkc2NvcGUuZ3RQYWdpbmF0aW9uID0gdHlwZW9mICRzY29wZS5ndFBhZ2luYXRpb24gPT09ICd1bmRlZmluZWQnID8gdHJ1ZTokc2NvcGUuZ3RQYWdpbmF0aW9uICE9PSAnZmFsc2UnO1xyXG4gICAgJHNjb3BlLmd0Um93cyA9IHR5cGVvZiAkc2NvcGUuZ3RSb3dzID09PSAndW5kZWZpbmVkJyA/IDIwOiRzY29wZS5ndFJvd3M7XHJcblxyXG4gICAgLy8gdGV4dCB0cmFuc2xhdGlvbnNcclxuICAgICRzY29wZS5ndFRyYW5zbGF0aW9ucyA9IHR5cGVvZiAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMgPT09ICd1bmRlZmluZWQnID8ge306JHNjb3BlLmd0VHJhbnNsYXRpb25zO1xyXG4gICAgJHNjb3BlLmd0VHJhbnNsYXRpb25zLm5vRGF0YSA9IHR5cGVvZiAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMubm9EYXRhID09PSAndW5kZWZpbmVkJyA/ICdObyB0YWJsZSBkYXRhIHRvIGRpc3BsYXknOiRzY29wZS5ndFRyYW5zbGF0aW9ucy5ub0RhdGE7XHJcbiAgICAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMucHJldmlvdXMgPSB0eXBlb2YgJHNjb3BlLmd0VHJhbnNsYXRpb25zLnByZXZpb3VzID09PSAndW5kZWZpbmVkJyA/ICcmbGFxdW87IFByZXYnOiRzY29wZS5ndFRyYW5zbGF0aW9ucy5wcmV2aW91cztcclxuICAgICRzY29wZS5ndFRyYW5zbGF0aW9ucy5uZXh0ID0gdHlwZW9mICRzY29wZS5ndFRyYW5zbGF0aW9ucy5uZXh0ID09PSAndW5kZWZpbmVkJyA/ICdOZXh0ICZyYXF1bzsnOiRzY29wZS5ndFRyYW5zbGF0aW9ucy5uZXh0O1xyXG5cclxuICAgICRzY29wZS5ndElkID0gdHlwZW9mICRzY29wZS5ndElkID09PSAndW5kZWZpbmVkJyA/ICRzY29wZS4kaWQ6JHNjb3BlLmd0SWQ7XHJcblxyXG4gICAgJHNjb3BlLmd0RXhwYW5kID0gdHlwZW9mICRzY29wZS5ndEV4cGFuZCA9PT0gJ3VuZGVmaW5lZCcgPyB7fTokc2NvcGUuZ3RFeHBhbmQ7XHJcbiAgICAkc2NvcGUuZ3RFeHBhbmQuZGlyZWN0aXZlID0gdHlwZW9mICRzY29wZS5ndEV4cGFuZC5kaXJlY3RpdmUgPT09ICd1bmRlZmluZWQnID8gJyc6JHNjb3BlLmd0RXhwYW5kLmRpcmVjdGl2ZTtcclxuICAgICRzY29wZS5ndEV4cGFuZC5tdWx0aXBsZSA9IHR5cGVvZiAkc2NvcGUuZ3RFeHBhbmQubXVsdGlwbGUgPT09ICd1bmRlZmluZWQnID8gZmFsc2U6JHNjb3BlLmd0RXhwYW5kLm11bHRpcGxlO1xyXG4gICAgJHNjb3BlLmd0RXhwYW5kLnJvd3MgPSB0eXBlb2YgJHNjb3BlLmd0RXhwYW5kLnJvd3MgPT09ICd1bmRlZmluZWQnID8gW106JHNjb3BlLmd0RXhwYW5kLnJvd3M7XHJcbiAgICAkc2NvcGUuYmluZGluZ3MgPSBbXTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygkc2NvcGUuZ3RFeHBhbmQpO1xyXG5cclxuICAgIC8vIHN5bmMgcm93IHN0YXRlIGkuZS4gaWYgcm93IHNob3VsZCBiZSBvcGVuZWQgb3IgY2xvc2VkXHJcbiAgICAkc2NvcGUuc3luY1Jvd3MgPSBmdW5jdGlvbiAob3BlbiwgZm9yY2UpIHtcclxuICAgICAgICBpZihvcGVuICYmICRzY29wZS5ndERpc3BsYXlEYXRhKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgJHNjb3BlLmd0RGlzcGxheURhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLmd0RXhwYW5kLnJvd3MuaW5kZXhPZihpKSA9PT0gLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckZ3Qtb3Blbi1yb3c6JytpLCBmb3JjZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5ndERpc3BsYXlEYXRhKSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7aSA8ICRzY29wZS5ndFJvd3M7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZ3RFeHBhbmQucm93cy5pbmRleE9mKGkpICE9PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyRndC1jbG9zZS1yb3c6JytpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFjdGl2ZSBiaW5kaW5ncyB0aGF0IHdlIG5lZWQgdG8gcmVtb3ZlLi4uXHJcbiAgICAgICAgaWYoJHNjb3BlLmJpbmRpbmdzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5iaW5kaW5ncy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIC8vIC4uLnJlbW92ZSBzY29wZSBhbmQgYWN0aXZlIHdhdGNoZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5iaW5kaW5nc1tpXS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIGV4dGVuZCBmaWVsZCBkZWZpbml0aW9uc1xyXG4gICAgdmFyIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkZmlsdGVyKCdtYXAnKSgkc2NvcGUuZ3RTZXR0aW5ncyxmdW5jdGlvbihzZXR0aW5nKXtcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLHtvYmplY3RLZXk6c2V0dGluZy5vYmplY3RLZXl9LHRydWUpWzBdO1xyXG4gICAgICAgICAgICAgICAgZmllbGQuY29sdW1uT3JkZXIgPSBzZXR0aW5nLmNvbHVtbk9yZGVyOyAvLyBhZGQgY29sdW1uIG9yZGVyXHJcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5nLmV4cG9ydCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5leHBvcnRGaWVsZCA9IGZhbHNlOyAvLyBhZGQgZXhwb3J0IGZpZWxkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaWVsZCBkZWZpbml0aW9uIG9iamVjdCBmb3IgcHJvcGVydHk6IFwiJysgc2V0dGluZy5vYmplY3RLZXkgKydcIiBub3QgZm91bmQuJyxlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgZXh0ZW5kRmllbGREZWZpbml0aW9ucygpO1xyXG5cclxuICAgIHZhciBpbml0VGFibGUgPSBmdW5jdGlvbihpbml0RGF0YSl7XHJcbiAgICAgICAgJHNjb3BlLmd0SGFzRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgIG9yaWdpbmFsRGF0YSA9IGluaXREYXRhLnNsaWNlKDApO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1kYXRhLXByb2Nlc3NpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICBtYXBLZXlzKGluaXREYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gY2hhbmdlIGRhdGEsIHRoaXMgd2UgdXBkYXRlIG9yIGRhdGEgc2V0XHJcbiAgICB2YXIgY2hhbmdlRGF0YSA9IGZ1bmN0aW9uKG5ld0RhdGEpe1xyXG4gICAgICAgICRzY29wZS5ndEhhc0RhdGEgPSBmYWxzZTtcclxuICAgICAgICBvcmlnaW5hbERhdGEgPSBuZXdEYXRhLnNsaWNlKDApO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1kYXRhLXByb2Nlc3NpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICBtYXBLZXlzKG5ld0RhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBtYXBwaW5nLCB0aGlzIGlzIHdoZXJlIHdlIG1hcCB3aGljaCBrZXlzIHNob3VsZCBiZSBwYXJ0IG9mIHRoZSB0YWJsZSBhcnJheSByb3cgb2JqZWN0XHJcbiAgICB2YXIgbWFwS2V5cyA9IGZ1bmN0aW9uIChkYXRhKXtcclxuXHJcbiAgICAgICAgLy8gZGVmaW5lIHdoaWNoIGZpZWxkcyBzaG91bGQgYmUgc2VhcmNoYWJsZVxyXG4gICAgICAgIHNlYXJjaENvbHVtbnMgPSAkZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdyZW1vdmVXaXRoJykoJHNjb3BlLmd0RmllbGRzLnNsaWNlKDApLHtzZWFyY2g6ZmFsc2V9KSwnb2JqZWN0S2V5Jyk7XHJcblxyXG4gICAgICAgIC8vIGdldCBrZXkgbmFtZXMgZnJvbSBzZXR0aW5nc1xyXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3MsIHtlbmFibGVkOnRydWV9LHRydWUpLCdvYmplY3RLZXknKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIG5ldyBhcnJheSB3aXRoIG1hcHBlZCBkYXRhXHJcbiAgICAgICAgbWFwcGVkRGF0YSA9ICRmaWx0ZXIoJ21hcCcpKGRhdGEsIGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7fTsgLy8gY3JlYXRlIG5ldyByb3cgb2JqZWN0XHJcblxyXG4gICAgICAgICAgICAvLyByZXRyaWV2ZSBvYmplY3QgdmFsdWVzIGZyb20gcm93IGFuZCBhZGQgdGhlbSB0byB0aGUgY29ycmVzcG9uZGluZyBrZXkgZGVmaW5lZCBieSB0aGUgdGFibGUgZmllbGRzXHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKHByb3BlcnRpZXMsZnVuY3Rpb24ocHJvcGVydHkpe1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgcHJvcGVydHkgZXhpc3RzIGluIGRhdGEgb2JqZWN0Li4uXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2Ygcm93W3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBjb2x1bW4gdmFsdWUgZnJvbSBkYXRhIHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BlcnR5XT1yb3dbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3Byb3BlcnR5OiBcIicgKyBwcm9wZXJ0eSAgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gZGF0YSBvYmplY3QsIGF0dGVtcHRpbmcgdG8gdXNlIHZhbHVlIGZ1bmN0aW9uIGluc3RlYWQgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgZG9lcyBub3QgZXhpc3RzIGluIGRhdGEsIHVzZSB2YWx1ZSBmdW5jdGlvbiB0byBnZXQgdmFsdWUgZm9yIGNvbHVtblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUZ1bmN0aW9uID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLCB7b2JqZWN0S2V5OnByb3BlcnR5fSx0cnVlKSwndmFsdWUnKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZUZ1bmN0aW9uICYmIGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZUZ1bmN0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBjdXN0b20gdmFsdWUgZnVuY3Rpb24gdG8gcmV0cmlldmUgdmFsdWUgZm9yIGNvbHVtblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd1c2luZyB2YWx1ZSBmdW5jdGlvbiB0byBnZXQgZGF0YSBmb3Igcm93IGNvbHVtbiAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BlcnR5XSA9IHZhbHVlRnVuY3Rpb24ocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncHJvcGVydHk6IFwiJyArIHByb3BlcnR5ICArICdcIiBkb2VzIG5vdCBleGlzdHMgaW4gZGF0YSBvYmplY3QgYW5kIG5vIHZhbHVlIGZ1bmN0aW9uIHdhcyBkZWNsYXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFwcGx5RmlsdGVyKG1hcHBlZERhdGEpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGludGVybmFsIGZpbHRlciwgdGhpcyBpcyB3aGVyZSB3ZSBhcHBseSBmaWx0ZXJzXHJcbiAgICB2YXIgYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiAoZGF0YSwgc2VhcmNoKSB7XHJcblxyXG4gICAgICAgIC8vIGFwcGx5IHRhYmxlIGZpbHRlcnNcclxuICAgICAgICB2YXIgZmlsdGVyZWQgPSAkZmlsdGVyKCdmaWx0ZXInKShkYXRhLnNsaWNlKDApLHRhYmxlRmlsdGVycyxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgICAgIH0sdHJ1ZSkuc2xpY2UoMCk7XHJcblxyXG4gICAgICAgIC8vIHJldHVybiByb3dzIHdoZXJlIGNvbHVtbnMgbWF0Y2ggZW50ZXJlZCBzZWFyY2ggdGVybXNcclxuICAgICAgICBmaWx0ZXJlZERhdGEgPSAkZmlsdGVyKCdzZWFyY2hSb3cnKShmaWx0ZXJlZCxzZWFyY2hDb2x1bW5zLCBzZWFyY2gsICRzY29wZS5ndEZpZWxkcyk7XHJcbiAgICAgICAgYXBwbHlTb3J0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNvcnQsIHRoaXMgaXMgd2hlcmUgd2Ugc29ydCB0aGUgZmlsdGVyZWQgcmVzdWx0c1xyXG4gICAgdmFyIGFwcGx5U29ydCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgIHNvcnRlZERhdGEgPSBzb3J0aW5nICE9PSBmYWxzZSA/ICRmaWx0ZXIoJ2d0U29ydCcpKGZpbHRlcmVkRGF0YSwgc29ydGluZywkc2NvcGUuZ3RGaWVsZHMpOiBmaWx0ZXJlZERhdGE7XHJcbiAgICAgICAgYXBwbHlQYWdpbmF0aW9uKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHBhZ2luYXRpb24sIHRoaXMgaXMgd2hlcmUgd2UgZGVjaWRlIHdoaWNoIHN1YnNldCBvZiB0aGUgZGF0YSB0byBzaG93XHJcbiAgICB2YXIgYXBwbHlQYWdpbmF0aW9uID0gZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgJHNjb3BlLnBhZ2VzID0gJGZpbHRlcignY2h1bmtCeScpKHNvcnRlZERhdGEsIHBhcnNlSW50KCRzY29wZS5ndFJvd3MpKTtcclxuICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgPSAwO1xyXG4gICAgICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtcmVuZGVyaW5nJyk7XHJcbiAgICAgICAgJHNjb3BlLmd0RGlzcGxheURhdGEgPSAkc2NvcGUucGFnZXNbJHNjb3BlLmN1cnJlbnRQYWdlXTtcclxuICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LWZpbmlzaGVkLWRhdGEtcHJvY2Vzc2luZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3RIYXNEYXRhID0gdHJ1ZTtcclxuICAgICAgICB9LDIwMCk7XHJcbiAgICAgICAgLy8kc2NvcGUuJGVtaXQoJ2d0LWZpbmlzaGVkLXJlbmRlcmluZycpO1xyXG4gICAgICAgIC8qaWYoJHNjb3BlLmxvYWRpbmcpe1xyXG4gICAgICAgICBjb25zb2xlLmxvZygnc3RpbGwgbG9vYWRpbmcnKTtcclxuICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1maW5pc2hlZC1yZW5kZXJpbmcnKTtcclxuICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgfSovXHJcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciB1cGRhdGUgdGFibGUgZXZlbnRzXHJcbiAgICAkc2NvcGUuJG9uKCdndC11cGRhdGUtdGFibGU6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgIGNoYW5nZURhdGEoYXJnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3Igc2VhcmNoIGV2ZW50c1xyXG4gICAgJHNjb3BlLiRvbignZ3Qtc2VhcmNoLXRhYmxlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICBzZWFyY2hUZXJtcyA9IGFyZztcclxuICAgICAgICBhcHBseUZpbHRlcihtYXBwZWREYXRhLnNsaWNlKDApLGFyZyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIGZpbHRlciBldmVudHNcclxuICAgICRzY29wZS4kb24oJ2d0LWZpbHRlci10YWJsZTonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgdGFibGVGaWx0ZXJzID0gYXJnO1xyXG4gICAgICAgIGFwcGx5RmlsdGVyKG1hcHBlZERhdGEuc2xpY2UoMCksc2VhcmNoVGVybXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLiRvbignZ3Qtb3Blbi1hbGwtcm93czonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgJHNjb3BlLnN5bmNSb3dzKHRydWUsIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLiRvbignZ3QtY2xvc2UtYWxsLXJvd3M6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgICRzY29wZS5zeW5jUm93cyhmYWxzZSk7IC8vIGNsb3NlIG9wZW4gcm93c1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciB1cGRhdGUgdGFibGUgZXZlbnRzXHJcbiAgICAkc2NvcGUuJG9uKCdndC11cGRhdGUtc3RydWN0dXJlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICAkc2NvcGUuZ3RGaWVsZHMgPSBhcmcuZmllbGRzO1xyXG4gICAgICAgICRzY29wZS5ndFNldHRpbmdzID0gYXJnLnNldHRpbmdzO1xyXG4gICAgICAgIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMoKTtcclxuICAgICAgICBzZWFyY2hDb2x1bW5zID0gJGZpbHRlcignbWFwJykoJGZpbHRlcigncmVtb3ZlV2l0aCcpKCRzY29wZS5ndEZpZWxkcy5zbGljZSgwKSx7c2VhcmNoOmZhbHNlfSksJ29iamVjdEtleScpO1xyXG5cclxuICAgICAgICAvLyBpZiBubyBzb3J0aW5nIGlzIGFwcGxpZWQgb3IgaWYgc29ydGluZyBpcyBmb3JjZWQuLi5cclxuICAgICAgICBpZihzb3J0aW5nID09PSBmYWxzZSB8fCBhcmcuZm9yY2VTb3J0aW5nID09PSB0cnVlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAuLi5zZXQgc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICBzb3J0aW5nID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3Mse3NvcnQ6XCJhc2MgZGVzY1wifSxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgICAgICAgICAgfSksZnVuY3Rpb24oc29ydCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNvcnQuc29ydCA9PT0gJ2Rlc2MnID8gJy0nOicnKSArIHNvcnQub2JqZWN0S2V5XHJcbiAgICAgICAgICAgIH0pOyAvLyByZXR1cm5zIGFycmF5IGNvbnRhaW5pbmcgc29ydGluZyBjcml0ZXJpYVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHNvcnRpbmcgc2V0dGluZyAnYXNjJyBhbmQgJ2Rlc2MnIHRvICdlbmFibGUnXHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLHtzb3J0OlwiYXNjIGRlc2NcIn0sZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpID4gLTE7XHJcbiAgICAgICAgICAgIH0pLGZ1bmN0aW9uKHNldHRpbmcpe1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZy5zb3J0ID0gJ2VuYWJsZSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gdXBkYXRlIHNldHRpbmdzIHRvIG1hdGNoIHNvcnRpbmcgaW4gdGFibGVcclxuICAgICAgICAgICAgJGZpbHRlcignbWFwJykoc29ydGluZyxmdW5jdGlvbihzb3J0UHJvcGVydHkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNvcnQgPSBzb3J0UHJvcGVydHkuaW5kZXhPZignLScpID09PSAtMSA/ICdhc2MnOidkZXNjJztcclxuICAgICAgICAgICAgICAgIHNvcnRQcm9wZXJ0eSA9IHNvcnRQcm9wZXJ0eS5yZXBsYWNlKCctJywnJyk7XHJcbiAgICAgICAgICAgICAgICAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncywgeydvYmplY3RLZXknOnNvcnRQcm9wZXJ0eX0sdHJ1ZSlbMF0uc29ydCA9IHNvcnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciBwYWdpbmF0aW9uIGxlbmd0aCBjaGFuZ2VcclxuICAgICRzY29wZS4kb24oJ2d0LXBhZ2luYXRlLXRhYmxlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICAkc2NvcGUuZ3RSb3dzID0gcGFyc2VJbnQoYXJnKTtcclxuICAgICAgICBhcHBseVBhZ2luYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgZXhwb3J0IGV2ZW50XHJcbiAgICAkc2NvcGUuJG9uKCdndC1leHBvcnQtY3N2OicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICBndEV4cG9ydChhcmcpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIGNyZWF0ZSBwYWdpbmF0aW9uXHJcbiAgICB2YXIgcGFnaW5hdGlvbiA9IGZ1bmN0aW9uKHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKXtcclxuICAgICAgICAkc2NvcGUuc3luY1Jvd3MoZmFsc2UpOyAvLyBjbG9zZSBvcGVuIHJvd3NcclxuXHJcbiAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gaWYgdG90YWwgcGFnZXMgZXF1YWxzIDAgaWUuIG5vIGRhdGEgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYodG90YWxQYWdlcyA9PT0gMCApIHtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC10YWJsZS1maWx0ZXJlZCcsIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsOm1hcHBlZERhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWQ6MCxcclxuICAgICAgICAgICAgICAgIHNob3dpbmdGcm9tOjAsXHJcbiAgICAgICAgICAgICAgICBzaG93aW5nVG86MCxcclxuICAgICAgICAgICAgICAgIHBhZ2VMZW5ndGg6JHNjb3BlLmd0Um93cyxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOjAsXHJcbiAgICAgICAgICAgICAgICBudW1iZXJPZlBhZ2VzOjBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIGxlc3MgdGhhbiB0d28gcGFnZXNcclxuICAgICAgICBpZih0b3RhbFBhZ2VzIDwgMil7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBsZXNzIHRoYW4gdGhyZWUgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMgPCAzKXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbMCwxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbGVzcyB0aGFuIGZvdXIgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMgPCA0KXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbMCwxLDJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBsZXNzIHRoYW4gZml2ZSBwYWdlc1xyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcyA8IDUpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFswLDEsMiwzXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgY3VycmVudCBwYWdlIGlzIG9uZSBvZiB0aGUgZm91ciBmaXJzdCBwYWdlc1xyXG4gICAgICAgIGVsc2UgaWYoY3VycmVudFBhZ2UgPCA0KXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbMCwxLDIsMyw0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbmV4dCB0byBsYXN0IHBhZ2VcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMgPiBjdXJyZW50UGFnZSsxKXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbY3VycmVudFBhZ2UtMSxjdXJyZW50UGFnZSxjdXJyZW50UGFnZSsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbGFzdCBwYWdlXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzID09PSBjdXJyZW50UGFnZSsxKXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbY3VycmVudFBhZ2UtMixjdXJyZW50UGFnZS0xLGN1cnJlbnRQYWdlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgY3VycmVudCBwYWdlIGlzIG5vdCBvbmUgb2YgdGhlIGZvdXIgZmlyc3QgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMtNCA+IGN1cnJlbnRQYWdlKXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbY3VycmVudFBhZ2UtMSxjdXJyZW50UGFnZSxjdXJyZW50UGFnZSsxLCBjdXJyZW50UGFnZSsyXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS4kZW1pdCgnZ3QtdGFibGUtZmlsdGVyZWQnLCB7XHJcbiAgICAgICAgICAgIHRvdGFsOm1hcHBlZERhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZDpmaWx0ZXJlZERhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICBzaG93aW5nRnJvbTokc2NvcGUuY3VycmVudFBhZ2UqJHNjb3BlLmd0Um93cysoJHNjb3BlLmN1cnJlbnRQYWdlID4gMSA/IDA6MSksXHJcbiAgICAgICAgICAgIHNob3dpbmdUbzokc2NvcGUuY3VycmVudFBhZ2UqJHNjb3BlLmd0Um93cyskc2NvcGUuZ3REaXNwbGF5RGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHBhZ2VMZW5ndGg6JHNjb3BlLmd0Um93cyxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6JHNjb3BlLmN1cnJlbnRQYWdlLFxyXG4gICAgICAgICAgICBudW1iZXJPZlBhZ2VzOiRzY29wZS5wYWdlcy5sZW5ndGhcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLm5leHRQYWdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgKys7XHJcbiAgICAgICAgICAgICRzY29wZS5ndERpc3BsYXlEYXRhID0gJHNjb3BlLnBhZ2VzWyRzY29wZS5jdXJyZW50UGFnZV07XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb24oJHNjb3BlLnBhZ2VzLmxlbmd0aCwkc2NvcGUuY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtcmVuZGVyaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7XHJcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnByZXZpb3VzUGFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlIC0tO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3REaXNwbGF5RGF0YSA9ICRzY29wZS5wYWdlc1skc2NvcGUuY3VycmVudFBhZ2VdO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1zdGFydGVkLXJlbmRlcmluZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAkc2NvcGUuc2V0UGFnZSA9IGZ1bmN0aW9uKHBhZ2Upe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgICRzY29wZS5ndERpc3BsYXlEYXRhID0gJHNjb3BlLnBhZ2VzWyRzY29wZS5jdXJyZW50UGFnZV07XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb24oJHNjb3BlLnBhZ2VzLmxlbmd0aCwkc2NvcGUuY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtcmVuZGVyaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7XHJcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzb3J0IGZ1bmN0aW9uXHJcbiAgICAkc2NvcGUuc29ydCA9IGZ1bmN0aW9uKCRldmVudCxwcm9wZXJ0eSl7XHJcbiAgICAgICAgdmFyIGN0cmxLZXkgPSAkZXZlbnQuY3RybEtleSB8fCAkZXZlbnQubWV0YUtleTtcclxuXHJcbiAgICAgICAgLy8gcmVzZXQgc29ydGluZyB1bmxlc3MgY3RybCBrZXkgb3IgbWV0YSBrZXkgKG1hYykgaXMgcHJlc3NlZCB3aGlsZSBzb3J0aW5nXHJcbiAgICAgICAgaWYoIWN0cmxLZXkgJiYgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7ICRzY29wZS5ndFNldHRpbmdzLmxlbmd0aCA+IGk7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZyA9ICRzY29wZS5ndFNldHRpbmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYoc2V0dGluZy5vYmplY3RLZXkgIT09IHByb3BlcnR5ICYmIHNldHRpbmcuc29ydCA9PT0gJ2FzYycgfHwgc2V0dGluZy5vYmplY3RLZXkgIT09IHByb3BlcnR5ICYmIHNldHRpbmcuc29ydCA9PT0gJ2Rlc2MnKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2VuYWJsZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9wZXJ0eSl7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyAkc2NvcGUuZ3RTZXR0aW5ncy5sZW5ndGggPiBpOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSAkc2NvcGUuZ3RTZXR0aW5nc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmKHNldHRpbmcub2JqZWN0S2V5ID09PSBwcm9wZXJ0eSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvcnQgPSBzZXR0aW5nLnNvcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzb3J0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzYWJsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5hYmxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ndFNldHRpbmdzW2ldLnNvcnQgPSAnYXNjJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhc2MnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmd0U2V0dGluZ3NbaV0uc29ydCA9ICdkZXNjJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXNjJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ndFNldHRpbmdzW2ldLnNvcnQgPSAnZW5hYmxlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNvcnRpbmcgPSAkZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncyx7c29ydDpcImFzYyBkZXNjXCJ9LGZ1bmN0aW9uKGV4cGVjdGVkLCBhY3R1YWwpe1xyXG4gICAgICAgICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpID4gLTE7XHJcbiAgICAgICAgfSksZnVuY3Rpb24oc29ydCl7XHJcbiAgICAgICAgICAgIHJldHVybiAoc29ydC5zb3J0ID09PSAnZGVzYycgPyAnLSc6JycpICsgc29ydC5vYmplY3RLZXk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFwcGx5U29ydCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBpZiB0YWJsZSBoYXMgZGF0YSB1cG9uIGluaXRpYWxpemF0aW9uLi4uXHJcbiAgICBpZigkc2NvcGUuZ3REYXRhKXtcclxuICAgICAgICBpbml0VGFibGUoJHNjb3BlLmd0RGF0YSk7IC8vIGluaXRpYWxpemUgdGFibGUgd2l0aCBkYXRhIHBhc3NlZCB0byBkaXJlY3RpdmVcclxuICAgIH1cclxuXHJcbiAgICAvLyBleHBvcnQgZnVuY3Rpb25cclxuICAgIHZhciBndEV4cG9ydCA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG4gICAgICAgIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCc/IHt9Om9wdGlvbnM7XHJcblxyXG4gICAgICAgIHZhciBmaWxlTmFtZSA9IHR5cGVvZiBvcHRpb25zLmZpbGVOYW1lID09PSAndW5kZWZpbmVkJyA/ICdleHBvcnQnOm9wdGlvbnMuZmlsZU5hbWU7XHJcblxyXG4gICAgICAgIC8vIGZpeCBleHBvcnQgZGF0YVxyXG4gICAgICAgIHZhciBleHBvcnREYXRhID0gSlNPTi5wYXJzZShhbmd1bGFyLnRvSnNvbihzb3J0ZWREYXRhLnNsaWNlKDApKSk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBvcnREYXRhLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IGV4cG9ydERhdGFbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiByb3cpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb3cuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZFNldHRpbmcgPSAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RGaWVsZHMsIHtvYmplY3RLZXk6IGtleX0sIHRydWUpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZVNldHRpbmcgPSAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncywge29iamVjdEtleToga2V5fSwgdHJ1ZSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHBvcnRNZXRob2QgPSBmaWVsZFNldHRpbmcuZXhwb3J0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBleHBvcnQgbWV0aG9kIGlzIGRlY2xhcmVkIGFuZCBpcyBhIGZ1bmN0aW9uLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9ydE1ldGhvZCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZXhwb3J0TWV0aG9kKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5yZXBsYWNlIGV4cG9ydCBkYXRhIHJvdyB2YWx1ZSB3aXRoIHZhbHVlIHJldHVybmVkIGJ5IGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBvcnRWYWx1ZSA9IGV4cG9ydE1ldGhvZChyb3csIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1trZXldID0gZmllbGRTZXR0aW5nLmV4cG9ydEVzY2FwZVN0cmluZyA9PT0gZmFsc2UgPyBleHBvcnRWYWx1ZSA6ICRmaWx0ZXIoJ2VzY2FwZUNzdlN0cmluZycpKGV4cG9ydFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IGZpZWxkU2V0dGluZy5leHBvcnRFc2NhcGVTdHJpbmcgPT09IGZhbHNlID8gcm93W2tleV0gOiAkZmlsdGVyKCdlc2NhcGVDc3ZTdHJpbmcnKShyb3dba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBleHBvcnRDb2x1bW5zIGFyZSBwYXNzZWQgd2l0aCBvcHRpb25zLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmV4cG9ydENvbHVtbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLnNldCB2YWx1ZSB0byBudWxsIGkuZS4gZG9uJ3QgZXhwb3J0IGNvbHVtbiBpZiBpdCdzIG5vdCBpbiB0aGUgZXhwb3J0Q29sdW1ucyBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5leHBvcnRDb2x1bW5zLmluZGV4T2YodGFibGVTZXR0aW5nLm9iamVjdEtleSk9PT0tMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXhwb3J0IGlzIHNldCB0byBmYWxzZSBmb3IgZmllbGQuLi5cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGFibGVTZXR0aW5nLmV4cG9ydCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFibGVTZXR0aW5nLmV4cG9ydCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uc2V0IHZhbHVlIHRvIG51bGwgaS5lLiBkb24ndCBleHBvcnQgY29sdW1uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1trZXldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRlY2xhcmUgZXhwb3J0IGRhdGFcclxuICAgICAgICB2YXIgZGF0YSA9IGV4cG9ydERhdGE7Ly9KU09OLnBhcnNlKGFuZ3VsYXIudG9Kc29uKHNvcnRlZERhdGEuc2xpY2UoMCkpKTtcclxuXHJcbiAgICAgICAgLy8gaWYgZXhwb3J0Q29sdW1ucyBhcmUgcGFzc2VkIHdpdGggb3B0aW9ucy4uLlxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBvcnRDb2x1bW5zICE9PSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgLy8gLi4uZ2V0IGZpZWxkIHNldHRpbmdzIGZvciBhbGwgb2JqZWN0S2V5cyBpbiBleHBvcnRDb2x1bW5zIGFycmF5XHJcbiAgICAgICAgICAgIHZhciBleHBvcnRGaWVsZHMgPSAkZmlsdGVyKCdtYXAnKShvcHRpb25zLmV4cG9ydENvbHVtbnMsIGZ1bmN0aW9uKG9iamVjdEtleSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLnNsaWNlKDApLCB7b2JqZWN0S2V5Om9iamVjdEtleX0sIHRydWUpWzBdO1xyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVsc2UgZXhwb3J0IGFsbCBjb2x1bW5zIGV4Y2VwdCBjb2x1bW5zIG5vdCBtYXJrZWQgZm9yIGV4cG9ydCBpLmUuIGhhcyBmaWVsZCBzZXR0aW5nIGV4cG9ydDpmYWxzZSAoYWRkZWQgdG8gZ3RGaWVsZFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZXhwb3J0RmllbGRzID0gJGZpbHRlcignb3JkZXJCeScpKCRmaWx0ZXIoJ3JlbW92ZVdpdGgnKSgkc2NvcGUuZ3RGaWVsZHMse2V4cG9ydEZpZWxkOmZhbHNlfSksXCJjb2x1bW5PcmRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXJzID0ge1xyXG4gICAgICAgICAgICBmaWVsZFNlcDogdHlwZW9mIG9wdGlvbnMuZmllbGRTZXAgPT09ICd1bmRlZmluZWQnID8gXCI7XCI6b3B0aW9ucy5maWVsZFNlcCxcclxuICAgICAgICAgICAgaGVhZGVyOiAkZmlsdGVyKCdtYXAnKShleHBvcnRGaWVsZHMsXCJuYW1lXCIpLCAvLyBnZXQgaGVhZGVycyBieSBjb2x1bW4gb3JkZXJcclxuICAgICAgICAgICAgdHh0RGVsaW06IHR5cGVvZiBvcHRpb25zLnR4dERlbGltID09PSAndW5kZWZpbmVkJyA/ICdcIic6b3B0aW9ucy50eHREZWxpbSxcclxuICAgICAgICAgICAgY29sdW1uT3JkZXI6JGZpbHRlcignbWFwJykoZXhwb3J0RmllbGRzLFwib2JqZWN0S2V5XCIpLCAvLyBnZXQgY29sdW1uIG9yZGVyXHJcbiAgICAgICAgICAgIGRlY2ltYWxTZXA6dHlwZW9mIG9wdGlvbnMuZGVjaW1hbFNlcCA9PT0gJ3VuZGVmaW5lZCcgPyAnLCc6b3B0aW9ucy5kZWNpbWFsU2VwLFxyXG4gICAgICAgICAgICBhZGRCeXRlT3JkZXJNYXJrZXI6dHlwZW9mIG9wdGlvbnMuYWRkQm9tID09PSAndW5kZWZpbmVkJyxcclxuICAgICAgICAgICAgY2hhcnNldDp0eXBlb2Ygb3B0aW9ucy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJyA/ICd1dGYtOCc6b3B0aW9ucy5jaGFyc2V0LFxyXG4gICAgICAgICAgICBxdW90ZVN0cmluZ3M6IHR5cGVvZiBvcHRpb25zLnF1b3RlU3RyaW5ncyA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IG9wdGlvbnMucXVvdGVTdHJpbmdzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ1NWLnN0cmluZ2lmeShkYXRhLCBoZWFkZXJzKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XHJcblxyXG4gICAgICAgICAgICB2YXIgYmxvYjtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcclxuICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbcmVzdWx0XSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtODtcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCAnZXhwb3J0LmNzdicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBub3QgYSBmdWxseSB3b3JraW5nIHNvbHV0aW9uLCBzb21lIHRhZ3MgKHRleCA8Qk9EWT4pIHNob3cgdXAgaW4gZXhjZWwgdG9nZXRoZXIgd2l0aCB0aGUgY29ycmVjdCBkYXRhLlxyXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhZGRlZCBhbiBhbGVydCBtZXNzYWdlIHRvIHVyZ2UgdXNlcnMgdG8gdXNlIGFub3RoZXIgYnJvd3NlciBvciB1cGRhdGUgdGhlaXIgYnJvd3NlciBmb3IgYSBiZXR0ZXIgbG9va2luZyBleHBvcnQuXHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5hcHBOYW1lID09PSAnTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChcIllvdSdyZSB1c2luZyBhbiBvbGQgdmVyc2lvbiBvZiBJbnRlcm5ldCBFeHBsb3JlciBhbmQgdGhlIGV4cG9ydCBtaWdodCB0aGVyZWZvcmUgaGF2ZSB0aGUgd3JvbmcgZm9ybWF0LCBwbGVhc2UgdXBkYXRlIHlvdXIgYnJvd3Nlci5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGFuZ3VsYXIuZWxlbWVudCgnPGlmcmFtZT48L2lmcmFtZT4nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZnJhbWVbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCdib2R5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoaWZyYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWZyYW1lWzBdLmNvbnRlbnREb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBpZnJhbWVbMF0uY29udGVudERvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChpZnJhbWVbMF0uY29udGVudFdpbmRvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGlmcmFtZVswXS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkb2Mub3BlbihcInRleHQvcGxhaW5cIiwgXCJyZXBsYWNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYy53cml0ZShbcmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZnJhbWUuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2MuZXhlY0NvbW1hbmQoJ1NhdmVBcycsIHRydWUsIGZpbGVOYW1lKycuY3N2Jyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW3Jlc3VsdF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04O1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluayA9IGFuZ3VsYXIuZWxlbWVudCgnPGE+PC9hPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluay5hdHRyKCdocmVmJywgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluay5hdHRyKCdkb3dubG9hZCcsZmlsZU5hbWUrJy5jc3YnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIGRvd25sb2FkIGxpbmsgdG8gYm9keSBhbmQgY2xpY2sgaXQsIG9uY2UgY2xpY2tlZCByZW1vdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZChkb3dubG9hZExpbmspO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmtbMF0uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0pLmRpcmVjdGl2ZSgnZ3RSb3cnLCBmdW5jdGlvbigkY29tcGlsZSwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIHNjb3BlOmZhbHNlLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSAkZmlsdGVyKCdmaWx0ZXInKShzY29wZS5ndFNldHRpbmdzLHsndmlzaWJsZSc6dHJ1ZX0sdHJ1ZSkubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYWRkUm93ID0gZnVuY3Rpb24ob3BlbkFsbCl7XHJcbiAgICAgICAgICAgICAgICAhc2NvcGUuZ3RFeHBhbmQubXVsdGlwbGUgJiYgIW9wZW5BbGwgPyBzY29wZS5zeW5jUm93cyhmYWxzZSk6Jyc7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7IC8vIGNyZWF0ZSBuZXcgc2NvcGUgZm9yIHJvd1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9ICRjb21waWxlKCc8dHIgY2xhc3M9XCJleHBhbmRlZC1yb3dcIj48dGQgY29sc3Bhbj1cIicrY29sdW1ucysnXCI+JytzY29wZS5ndEV4cGFuZC5kaXJlY3RpdmUrJzwvdGQ+PC90cj4nKShuZXdTY29wZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFmdGVyKHJvdyk7IC8vIGFkZCBlbGVtZW50IHRvIHZpZXdcclxuICAgICAgICAgICAgICAgIHNjb3BlLnJvdy5pc09wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuZ3RFeHBhbmQucm93cy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHJlbW92ZVJvdyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAvL3Njb3BlLiQkd2F0Y2hlcnMgPSBudWxsOyAvLyByZW1vdmUgd2F0Y2hlc1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0KCkuc2NvcGUoKS4kZGVzdHJveSgpOyAvLyBkZXN0cm95IHNjb3BlIGFuZCByZW1vdmUgd2F0Y2hlcnNcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dCgpLnJlbW92ZSgpOyAvLyByZW1vdmUgZWxlbWVudCBmcm9tIHZpZXdcclxuICAgICAgICAgICAgICAgIHNjb3BlLnJvdy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmd0RXhwYW5kLnJvd3Muc3BsaWNlKHNjb3BlLmd0RXhwYW5kLnJvd3MuaW5kZXhPZihpbmRleCksMSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzY29wZS4kaW5kZXg7XHJcbiAgICAgICAgICAgIHNjb3BlLnRvZ2dsZVJvdyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwYW5kZWQgPSBzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIGlmKCFleHBhbmRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVSb3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTsgLy8gdXBkYXRlIGJpbmRpbmdzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGd0LW9wZW4tcm93OicraW5kZXgsZnVuY3Rpb24gKGV2ZW50LGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwYW5kZWQgPSBzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIGlmKCFleHBhbmRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUm93KGZvcmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGd0LWNsb3NlLXJvdzonK2luZGV4LGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHBhbmRlZCA9IHNjb3BlLmd0RXhwYW5kLnJvd3MuaW5kZXhPZihpbmRleCkgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYoZXhwYW5kZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KS5kaXJlY3RpdmUoJ2d0RXZlbnQnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGZuKSB7XHJcbiAgICAgICAgICAgIGlmIChzY29wZS4kbGFzdCl7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnZ3QtZmluaXNoZWQtcmVuZGVyaW5nJyxzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgICAgIC8vc2NvcGUuJHBhcmVudC4kcGFyZW50LmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pLmRpcmVjdGl2ZSgnZ3RSZW5kZXInLCBmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIHNjb3BlOntcclxuICAgICAgICAgICAgcm93Oic9cm93RGF0YScsXHJcbiAgICAgICAgICAgIHNldHRpbmdzOic9ZmllbGRTZXR0aW5ncycsXHJcbiAgICAgICAgICAgIGNvbXBpbGU6Jz1ndENvbXBpbGUnLFxyXG4gICAgICAgICAgICBhY3RpdmVCaW5kaW5nczogJz1hY3RpdmVCaW5kaW5ncydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IHNjb3BlLnJvdztcclxuICAgICAgICAgICAgdmFyIGtleSA9IHNjb3BlLnNldHRpbmdzLm9iamVjdEtleTtcclxuICAgICAgICAgICAgdmFyIG91dHB1dDtcclxuXHJcbiAgICAgICAgICAgIHZhciByZW5kZXJNZXRob2QgPSBzY29wZS5zZXR0aW5ncy5yZW5kZXI7XHJcbiAgICAgICAgICAgIGlmKHJlbmRlck1ldGhvZCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24ocmVuZGVyTWV0aG9kKSl7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSByZW5kZXJNZXRob2Qocm93LCBrZXkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gcm93W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoc2NvcGUuY29tcGlsZSAmJiBzY29wZS5jb21waWxlICE9PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWNsYXJlIGVsZW1lbnQgc2NvcGVcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50U2NvcGU7XHJcbiAgICAgICAgICAgICAgICBpZihzY29wZS5jb21waWxlICE9PSB0cnVlICYmIHNjb3BlLmNvbXBpbGUuJHdhdGNoKXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50U2NvcGUgPSBzY29wZS5jb21waWxlLiRuZXcoKTsgLy8gY3JlYXRlIG5ldyBzY29wZSBmb3IgcmVuZGVyZWQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVCaW5kaW5ncy5wdXNoKGVsZW1lbnRTY29wZSk7IC8vIGFkZCBzY29wZSB0byBhY3RpdmUgYmluZGluZ3Mgd2hpY2ggd2UgdXNlIHRvIGNsZWFyL3JlbW92ZSBvYnNvbGV0ZSBzY29wZXMvd2F0Y2hlc1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50U2NvcGUgPSBzY29wZS4kcGFyZW50LiRuZXcoKTsgLy8gY3JlYXRlIG5ldyBzY29wZSBmb3IgcmVuZGVyZWQgdmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG91dHB1dCA9ICRjb21waWxlKG91dHB1dCkoZWxlbWVudFNjb3BlKTsgLy8gY29tcGlsZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQob3V0cHV0KTsgLy8gYWRkIGh0bWxcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uaW5uZXJIVE1MID0gb3V0cHV0OyAvLyBhZGQgaHRtbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkuZmlsdGVyKCdnZXRQcm9wZXJ0eScsZnVuY3Rpb24oJGZpbHRlcil7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2V0dGluZ3MsIGtleSxwcm9wZXJ0eSl7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhrZXkpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAkZmlsdGVyKCdmaWx0ZXInKShzZXR0aW5ncyx7b2JqZWN0S2V5OmtleX0sdHJ1ZSlbMF1bcHJvcGVydHldO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYW5ub3QgcmVhZCBwcm9wZXJ0eTogXCInICsgcHJvcGVydHkgKyAnXCIgb24gbWlzc2luZyBrZXk6IFwiJyArIGtleSArICdcIiBpbiBzZXR0aW5ncy4nLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn0pLmZpbHRlcignc2VhcmNoUm93JyxmdW5jdGlvbigkZmlsdGVyLCRpbnRlcnBvbGF0ZSl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksZmllbGRzLHNlYXJjaFRlcm1zLGZpZWxkc1NldHRpbmdzKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGFycmF5LGZpZWxkcyxmaWVsZHNTZXR0aW5ncyk7XHJcbiAgICAgICAgdmFyIHNlYXJjaCA9IHt9O1xyXG4gICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCBmaWVsZHNTZXR0aW5ncy5sZW5ndGg7aysrKXtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJheVtrXSk7XHJcbiAgICAgICAgICAgIHZhciBmaWVsZFNldHRpbmcgPSBmaWVsZHNTZXR0aW5nc1trXTtcclxuICAgICAgICAgICAgaWYoZmllbGRTZXR0aW5nLnNlYXJjaCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZmllbGRTZXR0aW5nLnNlYXJjaCkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdEtleSA9IGZpZWxkU2V0dGluZy5vYmplY3RLZXk7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hbb2JqZWN0S2V5XSA9IGZpZWxkU2V0dGluZy5zZWFyY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFzZWFyY2hUZXJtcyB8fCBzZWFyY2hUZXJtcy5yZXBsYWNlKC9cIi9nLFwiXCIpLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZpbHRlcmVkQXJyYXkgPSBbXTtcclxuICAgICAgICBzZWFyY2hUZXJtcyA9IHR5cGVvZiBzZWFyY2hUZXJtcyA9PT0gJ3VuZGVmaW5lZCcgPyAnJzpzZWFyY2hUZXJtcztcclxuICAgICAgICB2YXIgc2VhcmNoVGVybXNBcnJheSA9IHNlYXJjaFRlcm1zLnRvTG93ZXJDYXNlKCkubWF0Y2goL1wiW15cIl0rXCJ8W1xcd10rL2cpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IGFycmF5W2ldO1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuICAgICAgICAgICAgJGZpbHRlcignbWFwJykoZmllbGRzLGZ1bmN0aW9uKGZpZWxkKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSBqID09PSAwID8gJyc6JyAmICc7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gc2VhcmNoW2ZpZWxkXSA/IHNlcGFyYXRvcitzZWFyY2hbZmllbGRdKHJvdyxmaWVsZCk6c2VwYXJhdG9yK3Jvd1tmaWVsZF07XHJcbiAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIG1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBzZWFyY2hUZXJtc0FycmF5Lmxlbmd0aDtrKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBzZWFyY2hUZXJtc0FycmF5W2tdLnJlcGxhY2UoL1wiL2csJycpO1xyXG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBzdHJpbmcuaW5kZXhPZih0ZXJtKSAhPT0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIW1hdGNoKXtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBtYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIG1hdGNoO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwdXNoJyxyb3cpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5wdXNoKHJvdylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmlsdGVyZWRBcnJheTtcclxuICAgIH1cclxufSkuZmlsdGVyKCdjYW1lbFRvRGFzaCcsZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpe3RyeXtcclxuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoIC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInICkudG9Mb3dlckNhc2UoKX0gY2F0Y2goZXJyb3Ipe2NvbnNvbGUubG9nKCdub3RoaW5nIHRvIHJlcGxhY2U6JywgZXJyb3IpfTtcclxuICAgIH1cclxufSkuZmlsdGVyKCdndFNvcnQnLGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByb3BlcnR5QXJyYXksZmllbGRzKXtcclxuICAgICAgICB2YXIgY3VzdG9tU29ydCA9IHt9OyAvLyBzdG9yZSBjdXN0b20gc29ydCBmdW5jdGlvblxyXG5cclxuICAgICAgICAvLyBsb29wIHRocm91Z2ggZmllbGRzLi4uXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgZmllbGRzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xyXG5cclxuICAgICAgICAgICAgLy8gLi4uYW5kIGlmIGZpZWxkIGhhcyBjdXN0b20gc29ydCBmdW5jdGlvbi4uLlxyXG4gICAgICAgICAgICBpZihmaWVsZC5zb3J0ICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmaWVsZC5zb3J0KSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gLi4uc3RvcmUgY3VzdG9tIHNvcnQgZnVuY3Rpb24gaW4gY3VzdG9tIHNvcnQgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBjdXN0b21Tb3J0W2ZpZWxkLm9iamVjdEtleV0gPSBmaWVsZC5zb3J0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkeW5hbWljU29ydChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB2YXIgc29ydE9yZGVyID0gMTtcclxuICAgICAgICAgICAgaWYocHJvcGVydHlbMF0gPT09IFwiLVwiKSB7XHJcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkuc3Vic3RyKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSxiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUxID0gYVtwcm9wZXJ0eV0gPT09IG51bGwgPyAnJzpjdXN0b21Tb3J0W3Byb3BlcnR5XSA/IGN1c3RvbVNvcnRbcHJvcGVydHldKGEscHJvcGVydHkpOmFbcHJvcGVydHldOyAvLyBzZXQgdmFsdWUgdG8gZW1wdHkgc3RyaW5nIGlmIG51bGwgYW5kIHVzZSBjdXN0b20gc29ydCBmdW5jdGlvbiBpZiBvbmUgaXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBiW3Byb3BlcnR5XSA9PT0gbnVsbCA/ICcnOmN1c3RvbVNvcnRbcHJvcGVydHldID8gY3VzdG9tU29ydFtwcm9wZXJ0eV0oYixwcm9wZXJ0eSk6Yltwcm9wZXJ0eV07IC8vIHNldCB2YWx1ZSB0byBlbXB0eSBzdHJpbmcgaWYgbnVsbCBhbmQgdXNlIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGlmIG9uZSBpcyBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZTEgPCB2YWx1ZTIpID8gLTEgOiAodmFsdWUxID4gdmFsdWUyKSA/IDEgOiAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIHNvcnRPcmRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkeW5hbWljU29ydE11bHRpcGxlKHByb3BlcnR5QXJyYXkpIHtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogc2F2ZSB0aGUgYXJndW1lbnRzIG9iamVjdCBhcyBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuXHJcbiAgICAgICAgICAgICAqIG5vdGUgdGhhdCBhcmd1bWVudHMgb2JqZWN0IGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0XHJcbiAgICAgICAgICAgICAqIGNvbnNpc3Rpbmcgb2YgdGhlIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHRvIHNvcnQgYnlcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHByb3BlcnR5QXJyYXk7IC8vYXJndW1lbnRzO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iajEsIG9iajIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgcmVzdWx0ID0gMCwgbnVtYmVyT2ZQcm9wZXJ0aWVzID0gcHJvcHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgLyogdHJ5IGdldHRpbmcgYSBkaWZmZXJlbnQgcmVzdWx0IGZyb20gMCAoZXF1YWwpXHJcbiAgICAgICAgICAgICAgICAgKiBhcyBsb25nIGFzIHdlIGhhdmUgZXh0cmEgcHJvcGVydGllcyB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHdoaWxlKHJlc3VsdCA9PT0gMCAmJiBpIDwgbnVtYmVyT2ZQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZHluYW1pY1NvcnQocHJvcHNbaV0pKG9iajEsIG9iajIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5LnNvcnQoZHluYW1pY1NvcnRNdWx0aXBsZShwcm9wZXJ0eUFycmF5KSk7XHJcbiAgICB9XHJcbn0pLmZpbHRlcignZXNjYXBlQ3N2U3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpe1xyXG4gICAgICAgIHJldHVybiAvXihcXD18XFxAfFxcKyxcXC0pLiovZy50ZXN0KGlucHV0KSA/ICdcXCcnK2lucHV0IDogaW5wdXQ7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIhZnVuY3Rpb24oZSl7dHJ5e2U9YW5ndWxhci5tb2R1bGUoXCJhbmd1bGFyLmdlbmVyaWMudGFibGVcIil9Y2F0Y2godCl7ZT1hbmd1bGFyLm1vZHVsZShcImFuZ3VsYXIuZ2VuZXJpYy50YWJsZVwiLFtdKX1lLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGUpe2UucHV0KFwiZ2VuZXJpYy10YWJsZS9kaXJlY3RpdmUvZ2VuZXJpYy10YWJsZS9nZW5lcmljLXRhYmxlLmh0bWxcIiwnPGRpdiBjbGFzcz1cImdlbmVyaWMtdGFibGVcIj48ZGl2IGNsYXNzPVwiZ3Qtd3JhcHBlclwiPjx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXNvcnRhYmxlXCIgbmctaWY9XCJndEhhc0RhdGFcIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6Z3RDbGFzc2VzXCI+PHRoZWFkPjx0ciBuZy1jbGFzcz1cIjo6Z3RSb3dUcmFuc2l0aW9uID8gXFwnZmFkZS1pbiBhbmltYXRlXFwnOlxcJ1xcJ1wiPjx0aCBuZy1yZXBlYXQ9XCJmaWVsZCBpbiA6Omd0RmllbGRzIHwgb3JkZXJCeTpcXCdjb2x1bW5PcmRlclxcJyB0cmFjayBieSBmaWVsZC5vYmplY3RLZXlcIiBuZy1zaG93PVwiOmd0UmVmcmVzaDpndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3Zpc2libGVcXCdcIiBuZy1jbGFzcz1cIltmaWVsZC5jbGFzc05hbWVzLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJywgXFwnc29ydC1cXCcrKGd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnc29ydFxcJyldXCIgbmctY2xpY2s9XCI6Z3RSZWZyZXNoOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdlbmFibGVcXCcgPyBzb3J0KCRldmVudCxmaWVsZC5vYmplY3RLZXkpOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdhc2NcXCcgPyBzb3J0KCRldmVudCxmaWVsZC5vYmplY3RLZXkpOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdkZXNjXFwnID8gc29ydCgkZXZlbnQsZmllbGQub2JqZWN0S2V5KTpcXCdcXCdcIiBuZy1iaW5kPVwiOjpmaWVsZC5uYW1lXCI+PC90aD48L3RyPjx0ciBuZy1pZj1cIjo6Z3RUb3RhbHNcIiBuZy1jbGFzcz1cIjo6Z3RSb3dUcmFuc2l0aW9uID8gXFwnZmFkZS1pbiBhbmltYXRlXFwnOlxcJ1xcJ1wiPjx0ZCBuZy1yZXBlYXQ9XCJmaWVsZCBpbiA6Omd0RmllbGRzIHwgb3JkZXJCeTpcXCdjb2x1bW5PcmRlclxcJyB0cmFjayBieSBmaWVsZC5vYmplY3RLZXlcIiBjbGFzcz1cInRvdGFsLWNvbHVtblwiIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwndmlzaWJsZVxcJ1wiIG5nLWNsYXNzPVwiOjpbKGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ2NsYXNzTmFtZXNcXCcpLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJ11cIiBmaWVsZC1zZXR0aW5ncz1cIjo6ZmllbGRcIiBndC1yZW5kZXI9XCJcIiBhY3RpdmUtYmluZGluZ3M9XCI6OmJpbmRpbmdzXCIgcm93LWRhdGE9XCI6Omd0VG90YWxzXCIgZ3QtY29tcGlsZT1cIjo6ZmllbGQuY29tcGlsZVwiPjwvdGQ+PC90cj48L3RoZWFkPjx0Ym9keT48dHIgZ3Qtcm93PVwiXCIgbmctcmVwZWF0PVwiKHJvd0luZGV4LCByb3cpIGluIDpndFJlZnJlc2g6Z3REaXNwbGF5RGF0YSB8IGxpbWl0VG86IGRpc3BsYXlSb3dzXCIgZ3QtZXZlbnQ9XCJcIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6W2d0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCcscm93LmlzT3BlbiA/IFxcJ3Jvdy1vcGVuXFwnOlxcJ1xcJywgJGluZGV4ICUgMiA9PSAwID8gXFwncm93LW9kZFxcJzpcXCdyb3ctZXZlblxcJywgZ3RSb3dJbmZvWyRpbmRleF0gPyBcXCd0cnVlLWNsYXNzXFwnOlxcJ2ZhbHNlLWNsYXNzXFwnXVwiPjx0ZCBuZy1yZXBlYXQ9XCIoZmllbGRJbmRleCwgZmllbGQpIGluIDpndFJlZnJlc2g6Z3RGaWVsZHMgfCBvcmRlckJ5OlxcJ2NvbHVtbk9yZGVyXFwnIHRyYWNrIGJ5IGZpZWxkLm9iamVjdEtleVwiIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwndmlzaWJsZVxcJ1wiIG5nLWNsYXNzPVwiOjpbKGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ2NsYXNzTmFtZXNcXCcpLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJ11cIj48c3BhbiBjbGFzcz1cImd0LXJvdy1sYWJlbFwiIG5nLWlmPVwiOjooZ3RGaWVsZHMgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnc3RhY2tlZEhlYWRpbmdcXCcpXCIgbmctYmluZD1cIjo6KGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3N0YWNrZWRIZWFkaW5nXFwnKT09PSB0cnVlID8gKGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ25hbWVcXCcpOihndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdzdGFja2VkSGVhZGluZ1xcJylcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJndC1yb3ctY29udGVudFwiIG5nLWNsYXNzPVwiOjpmaWVsZC5jbGljayA/IFxcJ2d0LWNsaWNrLWVuYWJsZWRcXCc6XFwnXFwnXCIgZmllbGQtc2V0dGluZ3M9XCI6OmZpZWxkXCIgZ3QtcmVuZGVyPVwiXCIgYWN0aXZlLWJpbmRpbmdzPVwiOjpiaW5kaW5nc1wiIHJvdy1kYXRhPVwiOjpyb3dcIiBndC1jb21waWxlPVwiOjpmaWVsZC5jb21waWxlXCIgbmctY2xpY2s9XCI6Z3RSZWZyZXNoOiFmaWVsZC5jbGljayB8fCBmaWVsZC5jbGljayhyb3cpOyFmaWVsZC5leHBhbmQgfHwgdG9nZ2xlUm93KGZpZWxkLmV4cGFuZCwoZ3RTZXR0aW5ncyB8IGZpbHRlcjp7XFwndmlzaWJsZVxcJzp0cnVlfTp0cnVlKS5sZW5ndGgscm93LGZpZWxkLm9iamVjdEtleSk7XCI+PC9zcGFuPjwvdGQ+PC90cj48L3Rib2R5Pjx0ciBuZy1pZj1cIjpndFJlZnJlc2g6cGFnaW5hdGlvbiA9PT0gZmFsc2VcIj48dGQgY2xhc3M9XCJndC1uby1kYXRhXCIgY29sc3Bhbj1cInt7Omd0UmVmcmVzaDooZ3RTZXR0aW5ncyB8IGZpbHRlcjp7XFwndmlzaWJsZVxcJzp0cnVlfTp0cnVlKS5sZW5ndGh9fVwiIG5nLWJpbmQ9XCI6Omd0VHJhbnNsYXRpb25zLm5vRGF0YVwiPjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PjxkaXYgY2xhc3M9XCJndC1wYWdpbmF0aW9uIHRleHQtY2VudGVyXCIgbmctaWY9XCI6Z3RSZWZyZXNoOmd0UGFnaW5hdGlvbiA9PT0gdHJ1ZSAmJiBwYWdpbmF0aW9uICE9PSBmYWxzZVwiPjx1bCBjbGFzcz1cInBhZ2luYXRpb25cIj48bGkgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOntkaXNhYmxlZDogY3VycmVudFBhZ2UgPT09IDB9XCIgbmctc2hvdz1cImN1cnJlbnRQYWdlICE9PSAwXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cInByZXZpb3VzUGFnZSgpXCIgbmctZGlzYWJsZWQ9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlID09PSAwXCIgbmctYmluZC1odG1sPVwiOjpndFRyYW5zbGF0aW9ucy5wcmV2aW91c1wiPjwvYnV0dG9uPjwvbGk+PGxpIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlID4gM1wiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJzZXRQYWdlKDApXCI+MTwvYnV0dG9uPjxzbWFsbD4maGVsbGlwOzwvc21hbGw+PC9saT48bGkgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmU7cGFkZGluZzogMCA1cHg7XCIgbmctcmVwZWF0PVwicGFnZSBpbiA6Z3RSZWZyZXNoOnBhZ2luYXRpb25cIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6cGFnZSA9PT0gY3VycmVudFBhZ2UgPyBcXCdhY3RpdmVcXCc6XFwnXFwnXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cInNldFBhZ2UocGFnZSlcIiBuZy1iaW5kPVwicGFnZSsxXCI+PC9idXR0b24+PC9saT48bGkgbmctc2hvdz1cIjpndFJlZnJlc2g6Y3VycmVudFBhZ2UgKzEgPCBwYWdlcy5sZW5ndGgtMSAmJiBwYWdlcy5sZW5ndGggPiA0XCI+PHNtYWxsIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlICsgMyA8IHBhZ2VzLmxlbmd0aFwiPiZoZWxsaXA7PC9zbWFsbD48YnV0dG9uIGNsYXNzPVwiYnRuLWxpbmsgbGlua1wiIG5nLWNsaWNrPVwic2V0UGFnZShwYWdlcy5sZW5ndGgtMSlcIiBuZy1iaW5kPVwicGFnZXMubGVuZ3RoXCI+PC9idXR0b24+PC9saT48bGkgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOntkaXNhYmxlZDogY3VycmVudFBhZ2UgPT0gcGFnZXMubGVuZ3RofVwiIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlKzEgIT09IHBhZ2VzLmxlbmd0aFwiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJuZXh0UGFnZSgpXCIgbmctZGlzYWJsZWQ9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlKzEgPT09IHBhZ2VzLmxlbmd0aFwiIG5nLWJpbmQtaHRtbD1cIjo6Z3RUcmFuc2xhdGlvbnMubmV4dFwiPjwvYnV0dG9uPjwvbGk+PC91bD48L2Rpdj48L2Rpdj4nKX1dKX0oKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
